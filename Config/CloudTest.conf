#!MANAGED-CONFIG https://raw.githubusercontent.com/shenhix/xRuleList/x/Config/CloudTest.conf interval=86400 strict=true

[General]
# General
ipv6 = true
bypass-system = true
loglevel = notify
replica = false
allow-wifi-access = true
exclude-simple-hostnames = true
network-framework = false
tls-provider = default
use-default-policy-if-wifi-not-primary = false
internet-test-url = http://wifi.vivo.com.cn/generate_204
proxy-test-url = http://cp.cloudflare.com/generate_204
test-timeout = 5
show-error-page-for-reject = true
external-controller-access = mima@0.0.0.0:6170

# > TLS 引擎
tls-provider = openssl

# > 从 /etc/hosts 读取 DNS 记录
read-etc-hosts = true

#local
# > 允许 Wi-Fi 访问 (仅 macOS，若允许远程访问将「127.0.0.1」改为「0.0.0.0」)
http-listen = 0.0.0.0:6152
socks5-listen = 0.0.0.0:6153
# > 允许 Wi-Fi 访问 (仅 iOS)
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153

# Advanced
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, 17.0.0.0/8, localhost, *.local, *.crashlytics.com
# tun-excluded-routes = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12
# tun-included-routes = 192.168.1.12/32
hijack-dns = 8.8.8.8:53, 8.8.4.4:53
# > Always Real IP Hosts
always-real-ip = msftconnecttest.com, msftncsi.com, *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com

# DNS
dns-server = system, 223.5.5.5, 223.6.6.6, 8.8.8.8, 8.8.4.4
geoip-maxmind-url = https://raw.githubusercontent.com/JMVoid/ipip2mmdb/release/Country.mmdb

# Others
// wifi-assist = true

[Replica]
hide-apple-request = true
hide-crashlytics-request = true
hide-udp = false
keyword-filter-type = false

[Proxy]
direct = direct

[Proxy Group]
Proxy = select, Auto, direct, Free, policy-path = node/My.list
Direct = select, direct, Free, Proxy
Reject = select, direct, REJECT-TINYGIF, REJECT
Apple = select, direct, Free, Proxy
Media = select, Proxy, Free , policy-path = node/My.list
Others = select, direct, Free, Proxy
Auto = ssid, default = Test, cellular = Free

Free = url-test, policy-path = node/Free.list , interval = 600s, tolerance = 100ms, timeout = 5s, evaluate-before-use = true
Test = url-test, policy-path = node/My.list

[Rule]
# ADblock - DivineEngine Advertising 广告
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list,Reject
# ADblock - DivineEngine Privacy 隐私
# RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list,Reject
# ADblock - DivineEngine Hijacking 运营商劫持或恶意网站
# RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list,Reject

# X - 自己写的规则
RULE-SET,https://raw.githubusercontent.com/shenhix/xRuleList/x/RuleList/Direct.list,Direct
RULE-SET,https://raw.githubusercontent.com/shenhix/xRuleList/x/RuleList/Proxy.list,Proxy
RULE-SET,https://raw.githubusercontent.com/shenhix/xRuleList/x/RuleList/Reject.list,Reject
RULE-SET,https://raw.githubusercontent.com/shenhix/xRuleList/x/RuleList/Media.list,Media

# Apple - Ihie1
RULE-SET,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Apple.list,Apple

# Global Midia - DivineEngine Streaming 国际流媒体服务
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Streaming.list,Media

# China Midea - DivineEngine Streaming 中国流媒体服务
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/StreamingCN.list,Direct

# Special - Ihie1
RULE-SET,https://raw.githubusercontent.com/dler-io/Rules/master/Surge/Surge%203/Provider/Special.list,Direct

# Domestic - DivineEngine China 中国直连
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/China.list,Direct
# Domestic - DivineEngine Unbreak 后续规则修正
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list,Direct

# Proxy - DivineEngine Global 全球加速
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list,Proxy

// Lan 
RULE-SET,LAN,Direct
// Detect local network
GEOIP, CN, Direct
// Use Proxy for all others
FINAL, Others, dns-failed

[Host]
// custom host

[URL Rewrite]

// custom url rewrite
# tiktok

[Header Rewrite]

// custom header rewrite

[SSID Setting]
// custom ssid

[MITM]
skip-server-cert-verify = true
tcp-connection = false

# hostname = 

enable = true
ca-passphrase = XH72002
ca-p12 = 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
