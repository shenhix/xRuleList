#!MANAGED-CONFIG https://raw.githubusercontent.com/shenhix/xRuleList/x/Config/CloudTest.conf interval=86400 strict=true

[General]
# General
ipv6 = true
bypass-system = true
loglevel = notify
replica = false
allow-wifi-access = true
exclude-simple-hostnames = true
network-framework = false
tls-provider = default
use-default-policy-if-wifi-not-primary = false
internet-test-url = http://wifi.vivo.com.cn/generate_204
proxy-test-url = http://cp.cloudflare.com/generate_204
test-timeout = 5
show-error-page-for-reject = true
external-controller-access = mima@0.0.0.0:6170

# > TLS 引擎
tls-provider = openssl

# > 从 /etc/hosts 读取 DNS 记录
read-etc-hosts = true

#local
# > 允许 Wi-Fi 访问 (仅 macOS，若允许远程访问将「127.0.0.1」改为「0.0.0.0」)
http-listen = 0.0.0.0:6152
socks5-listen = 0.0.0.0:6153
# > 允许 Wi-Fi 访问 (仅 iOS)
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153

# Advanced
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, 17.0.0.0/8, localhost, *.local, *.crashlytics.com
tun-excluded-routes = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12
tun-included-routes = 192.168.1.12/32
# > Always Real IP Hosts
always-real-ip = msftconnecttest.com, msftncsi.com, *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com

# DNS
dns-server = system, 223.5.5.5, 223.6.6.6, 8.8.8.8, 8.8.4.4
geoip-maxmind-url = https://raw.githubusercontent.com/JMVoid/ipip2mmdb/release/Country.mmdb

# Others
// wifi-assist = true

[Replica]
hide-apple-request = true
hide-crashlytics-request = true
hide-udp = false
keyword-filter-type = false

[Proxy]
direct = direct

[Proxy Group]
Proxy = select, Auto, direct, Free, policy-path = node/My.list
Direct = select, direct, Free, Proxy
Reject = select, direct, REJECT-TINYGIF, REJECT
Apple = select, direct, Free, Proxy
Media = select, Proxy, Free , policy-path = node/My.list
Others = select, direct, Free, Proxy
Auto = ssid, default = Test, cellular = Free

Free = url-test, policy-path = node/Free.list , interval = 600s, tolerance = 100ms, timeout = 5s, evaluate-before-use = true
Test = url-test, policy-path = node/My.list

[Rule]
# ADblock - DivineEngine Advertising 广告
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Advertising.list,Reject
# ADblock - DivineEngine Privacy 隐私
# RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Privacy.list,Reject
# ADblock - DivineEngine Hijacking 运营商劫持或恶意网站
# RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Guard/Hijacking.list,Reject

# X - 自己写的规则
RULE-SET,https://raw.githubusercontent.com/shenhix/xRuleList/x/RuleList/Direct.list,Direct
RULE-SET,https://raw.githubusercontent.com/shenhix/xRuleList/x/RuleList/Proxy.list,Proxy
RULE-SET,https://raw.githubusercontent.com/shenhix/xRuleList/x/RuleList/Reject.list,Reject
RULE-SET,https://raw.githubusercontent.com/shenhix/xRuleList/x/RuleList/Media.list,Media

# Apple - Ihie1
RULE-SET,https://raw.githubusercontent.com/dler-io/Rules/main/Surge/Surge%203/Provider/Apple.list,Apple

# Global Midia - DivineEngine Streaming 国际流媒体服务
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Streaming.list,Media

# China Midea - DivineEngine Streaming 中国流媒体服务
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/StreamingCN.list,Direct

# Special - Ihie1
RULE-SET,https://raw.githubusercontent.com/dler-io/Rules/master/Surge/Surge%203/Provider/Special.list,Direct

# Domestic - DivineEngine China 中国直连
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/China.list,Direct
# Domestic - DivineEngine Unbreak 后续规则修正
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list,Direct

# Proxy - DivineEngine Global 全球加速
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list,Proxy

// Lan 
RULE-SET,LAN,Direct
// Detect local network
GEOIP, CN, Direct
// Use Proxy for all others
FINAL, Others, dns-failed

[Host]
// custom host

[URL Rewrite]

// custom url rewrite
# tiktok

[Header Rewrite]

// custom header rewrite

[SSID Setting]
// custom ssid

[MITM]
skip-server-cert-verify = true
tcp-connection = false

# hostname = 

enable = true
ca-passphrase = XH72002
ca-p12 = MIIJhQIBAzCCCUwGCSqGSIb3DQEHAaCCCT0Eggk5MIIJNTCCA8cGCSqGSIb3DQEHBqCCA7gwggO0AgEAMIIDrQYJKoZIhvcNAQcBMBwGCiqGSIb3DQEMAQYwDgQIcOj12M2gu4cCAggAgIIDgNuDTilaTunakJN8BH3P/XWpQ1Brb5xgB1DqD/rPYS6mwADoqM24owprSYLvy4MJIwvFwA6CWvCSqfU2FkcGpakGVQ8qF3VZfxvC2S8xgRdXoURQMIcWb3Hua41jzuXW05GInq6ANoj+VEjf/J6azUfdLkBUj3wyKJTIWLMN8spoA7AmE3/G5MdCBFUKGpk0RfFbnxPKQXR0hb3loPJ3k6LdBuzN7BJnup5t1wB5iOQFVdbbsg3BO+eEgmw0PWJqWNkipgPtOvgK7kTZ206U7daBiQhPE072FC6JgmyOmw69ta3IfhpZJ45XguPCyxDjhNdoi8oTOy/0vD3AwTLibGgiLODNKQ9x2qnlpc9eh43CEG+MFJkBK2D51pQQgPyBDhxxRxpHYJTXjeWrxIbiiv7EETkl/DS8g6Cg3BikAnayxyiZoU5js2PTuUnbHF8gkMPkrDK1RD+V0AtZNVnwvVaWXfHfvYgGN+N1/7HLmVI9LtRDC12qnqZci/Imr5tDavEckyHjTfzpkcDkQ6RTOwgDCYMU5IEVA9jV7OiJTYe11I+oALO6SPFLTEyZ2p6WZrRhPfuxGYtEtz65i5E35IAzPCFjfy8vLX4ZtUCqaTaQZhb+HY3UAsFuLGWiBrNMEDiqY6cnbWGUhzyD/QDQpXHvlLzdasdyKdkShuP8uPDYFIe9HYjpvIZshV5vzicI60VGAlVUBjqNpXw+X//odwiu+oJm8BrBY5hHuPLphxWXu12+PuVAusyWYyGwLUwA7h4rynnU6I7VwY11/KLVBDA6nXdZ8mSQp+sAQ6CRkDI7T5oB2pTH9iHhzz3CFiQNe1pVNBnGHP1+QeW5zSTpxX53x59nteNMWJh8WxZieKamazz5NCSr6jc89jnvOCSN33kok4eRXky3fXzVQGkyQcrOshZrmvtE7Ib4rmCDOD4xFA+ic1CmjRnTsNLDZE3FZSJAYo3KMbhX+64QTz7EuVBAAcHicFd5Dijcyc7WVrYJyv09092Hlzqov396dkPg5q/KREAc9WeBBY9r4XUcJpTT7uId91fRMa3wUv9YiIb/g6jWUicZnQTT/Iiasjni+gpytd1fikfUqeT2IhVrNSxRl85dhjq8nQP1Fx1Gjf1ZgmuZ7qdu8rQ4ArAujXuo2t7rdgu3/4dbDQn3sa0xJC/L3WiTjARaZvIeGkkOFvGoMIIFZgYJKoZIhvcNAQcBoIIFVwSCBVMwggVPMIIFSwYLKoZIhvcNAQwKAQKgggTuMIIE6jAcBgoqhkiG9w0BDAEDMA4ECOEBjYORPm7yAgIIAASCBMghl1Yqnv07PfNZQP921c4MBv6lrA2dAXNlscyKlTXd9osDblJ2kEHv5CWidi6YeM2NvY2GaxPmnUhWrk2QsYhGmCAQY9qg0kdAqMQPQw1Ymgch8V+GUX658bfFfqcYJp1c/Um70ffucuf2YKi99GkND6iSbqg86lZ+hKusGLoqokK0MumhVvKiyc+rCbcVM32GNkO3xRdnnuH1hQ9bxl8ysGiWzSMqpGHqGFELzwmfQhmsGYMTqclanE5ohGdSMEf4nZ9OsUkSw4nG02DYxtSSFmmHe2JamoIZei6t2Dei05oEyFzI6PhLTPgd/O6tp7QaCgc+KPDo+JmdOkhxMPw7tIwtRQhSuAjBAdrvAyUPs+rHJqchvlo3CFUK5hW8OjP9UgM7aai5pnWOJuUk+1hqUsHzU7UYaPC4urgHhtbuh3bBL+NOBzEIX+0HMoIJ2aT5nfveFQPJ3lkSKFKGzj4EYwjNuAL3cemEoLxs+NcLGLpOnTd1n4PjhVyqt2rpz/+NlQccZVmZOw+SI73Q4zwSlXll1+icmpVuWgSIjvalkj1bhD8oOg79QlBtfT21EDTBOOQjKh6vDyy8f3nkz7taHmgBkMxwBWH1hOOuhV+q0qfDnyaxRf9NsrZTz9oQeOOMI2oqmJiQNhgs4g+mo+tY5pqI6LF/VO58ULLlokMy4+J2dvChGO+d3P1LOG6cD9EYVzpquvtl+kT/Tx0YkKD9hI53+MxlhX+sEhB4VEAL6lTAkiK8SQfcNDI/P708rCU8/QppTopKMnmlM8/A3l/pGSSH0RX4tVfMu2MFqpur/W0otyWTpH78lcD2paF56oB3PfOKjJonnFAhooFXAnECsVb3iQbHMHyUkWV+9GOEHdSmcFbSYNOk1cXvpGT7jZlymaEqhujsgRRX2ix8rz7ZxH9wZXk4w1Yc3O7CsWNEMk6/mZ5i3BWkwiyL9td69/E+TnmDRXiEZtTIvZeXr/zM41yIpxFLD4HgfOYjNniG1+o+FnT2lYV35U2gUyWe51SiJdmQl17TNGnqqItxao1CrCDopbrlwQAiaXe8zB3A9ilNeaYhOOjBbuJ3vsz2Kob1XZhvoX5ktAEA5YYc2IuXWcvZv/sB0TVLwSMOaRbUjTuHO9XuuyXuslCCxd72OX0iENDvtPLT85yDhHdX94J4/Pz1GdMVoPiCZ7yAieqcwkiObklK5fzRvEJom8f0P3WWW4BNWM8F2XhyJ3LbSQkBmo2adVyoh/LzIfjy1AWAhyQJ0dYMlE0SPSn8MY151n+cGg7YLfOtQ8HPH28BHiXgufy9JaC/CVPtfVA9Y1KAISpkB0b36al9E1ht+HL0mQm/2t6pGAEtQ+aVUUD01UDjdRScDllH9TmcI8dWNOIgm4JjaGi0lRPTz8IQk9wMQw+u10Ct3c3+FYD1V+vLMU97LLFDfE/WiTNiP71byMqDU1LdLZI3x9Oju7ksr2NM4cEQgGHzzhXgOS5w07RWYhnkntrqaWAp/OI653APuGBPIoEQa9kOgkkW1W8ZGkG+E/qFPri5B2ReCnAZb2WkWfCDqYHmTdkJx6pMuWQNK+/6GQt5u/coelOW39buSozdWlqM+L4zNd8FGR+37jurxPkQRUtq3xBvRycxSjAjBgkqhkiG9w0BCRQxFh4UAFMAdQByAGcAZQAgAE0AaQB0AE0wIwYJKoZIhvcNAQkVMRYEFDG97tKudig0SMYyhj1x26x9eM9CMDAwITAJBgUrDgMCGgUABBSyVbbOU6qZW2jKk+vPldeUbLUL4AQI+ozIHSvMohQCAQE=
